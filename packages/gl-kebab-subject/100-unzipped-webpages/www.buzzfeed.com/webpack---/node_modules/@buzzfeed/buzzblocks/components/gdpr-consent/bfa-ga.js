export function gaMap(mapper) {

    const GDPRRouter = mapper.getOrCreateRouter('track/gdpr');
    const GDPRConfig = GDPRRouter.createConfigForRoute(function(src) {
        return src.l === 'gdpr';
    });
    GDPRConfig.addMapTo('category', '').mapFrom('l');
    GDPRConfig.addMapTo('action', '').mapFrom('n');
    GDPRConfig.addMapTo('label', '').mapFrom('data.page.platform');
    GDPRConfig.addMapTo('value', null).mapFrom(function(src) {
        let opt = null;
        if (typeof src.opt !== 'undefined') {
            opt = src.opt;
        }
        return opt;
    });

    return GDPRRouter;
}