{"sessionId":"c2522ec3aa6b469fabbe919d35fa304b","tntId":"c2522ec3aa6b469fabbe919d35fa304b.26_5","offers":[{"responseTokens":{"experience.id":"0","activity.name":"Fire GNAV Dynamic Mbox On Click for MC0242","activity.id":"109099","option.name":"Offer2","experience.name":"ccnav-mbox","option.id":"2"},"actions":[{"action":"insertAfter","selector":"#AdobeFooterNav","content":"<div id=\"action_insert_15422462113328564\">Add Content Here.</div>","cssSelector":"#AdobeFooterNav"}]},{"plugins":["<script>var testversion = (typeof testversion === 'undefined' ?  \"\"  : testversion) + 'campaign:Fire GNAV Dynamic Mbox On Click for MC0242,experience:ccnav-mbox,'</script>","<script type=\"text/javascript\">\r\n/*mboxHighlight+ (1of2) v1 ==> Response Plugin*/\r\nwindow.ttMETA=(typeof(window.ttMETA)!='undefined')?window.ttMETA:[];window.ttMETA.push({'mbox':'adobe-global-mbox','campaign':'Fire GNAV Dynamic Mbox On Click for MC0242','experience':'ccnav-mbox','offer':'Fire dynamic mbox on GNAV menu click'});window.ttMBX=function(x){var mbxList=[];for(i=0;i<ttMETA.length;i++){if(ttMETA[i].mbox==x.getName()){mbxList.push(ttMETA[i])}}return mbxList[x.getId()]}\r\n</script>"],"responseTokens":{"experience.id":"0","activity.name":"Fire GNAV Dynamic Mbox On Click for MC0242","activity.id":"109099","option.name":"Offer3","experience.name":"ccnav-mbox","option.id":"3"},"actions":[{"action":"setContent","selector":"#action_insert_15422462113328564","content":"<script>\n\tvar ccnav = {\n\t\tmboxDisplayed1 : false,\n\t\tmboxDisplayed2 : false,\n        mboxDisplayed3 : false,\n\t\tsettings : {\n\t\t\ttimeout : 10000,\n\t\t\ttime : 0\n\t\t},\n\t\tsetMbox1 : function(){\n\t\t\tadobe.target.getOffer({  \n\t\t\t  \"mbox\": \"creativity-design-nav-mbox\",\n\t\t\t  \"success\": function(offer) {          \n\t\t\t        adobe.target.applyOffer( { \n\t\t\t           \"mbox\": \"creativity-design-nav-mbox\",\n\t\t\t           \"offer\" : offer\n\t\t\t        } );\n\t\t\t  },  \n\t\t\t  \"error\": function(status, error) {          \n\t\t\t      console.log('Error', status, error);\n\t\t\t  }\n\t\t\t});\n\t\t},\n\t\tsetMbox2 : function(){\n\t\t\tadobe.target.getOffer({  \n\t\t\t  \"mbox\": \"marketing-commerce-nav-mbox\",\n\t\t\t  \"success\": function(offer) {          \n\t\t\t        adobe.target.applyOffer( { \n\t\t\t           \"mbox\": \"marketing-commerce-nav-mbox\",\n\t\t\t           \"offer\" : offer\n\t\t\t        } );\n\t\t\t  },  \n\t\t\t  \"error\": function(status, error) {          \n\t\t\t      console.log('Error', status, error);\n\t\t\t  }\n\t\t\t});\n\t\t},\n        setMbox3 : function(){\n\t\t\tadobe.target.getOffer({  \n\t\t\t  \"mbox\": \"business-solutions-nav-mbox\",\n\t\t\t  \"success\": function(offer) {          \n\t\t\t        adobe.target.applyOffer( { \n\t\t\t           \"mbox\": \"business-solutions-nav-mbox\",\n\t\t\t           \"offer\" : offer\n\t\t\t        } );\n\t\t\t  },  \n\t\t\t  \"error\": function(status, error) {          \n\t\t\t      console.log('Error', status, error);\n\t\t\t  }\n\t\t\t});\n\t\t},\n\t\tbindEvents : function(){\n\t\t\tdocument.querySelector('#AdobePrimaryNav').addEventListener('click', function(event){\n\t\t\t\tif(event.target.textContent.trim() == 'Creativity & Design'){\n\t\t\t\t\tccnav.log('clicked on Creativity & Design');\n\t\t\t\t\tif(ccnav.mboxDisplayed1 == false){\n\t\t\t\t\t\tccnav.setMbox1();\n\t\t\t\t\t\tccnav.mboxDisplayed1 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(event.target.textContent.trim() == 'Marketing & Commerce'){\n\t\t\t\t\tccnav.log('clicked on Creativity & Design');\n\t\t\t\t\tif(ccnav.mboxDisplayed2 == false){\n\t\t\t\t\t\tccnav.setMbox2();\n\t\t\t\t\t\tccnav.mboxDisplayed2 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n                else if(event.target.textContent.trim() == 'Business Solutions'){\n\t\t\t\t\tccnav.log('clicked on Business Solutions');\n\t\t\t\t\tif(ccnav.mboxDisplayed3 == false){\n\t\t\t\t\t\tccnav.setMbox3();\n\t\t\t\t\t\tccnav.mboxDisplayed3 = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tlog : function(output){\n\t\t\tif(String(window.location).indexOf('at_preview') >= 0||String(window.location).indexOf('test=target') >= 0){\n\t\t\t\tconsole.log(output);\n\t\t\t}\n\t\t},\n\t\twaitForElem : function(elemLoaded){\n\t\t\tvar gnav = document.querySelectorAll('#AdobePrimaryNav');\n\t\t\tif (gnav.length > 0){\n\t\t\t\telemLoaded();\n\t\t\t\tccnav.settings.time = 0;\n\t\t\t}else if (ccnav.settings.time >= ccnav.settings.timeout){\n\t\t\t\t\/\/do nothing\n\t\t\t\tccnav.log('Element not found. Exiting.');\n\t\t\t\tccnav.settings.time = 0;\n\t\t\t}else{\n\t\t\t\tccnav.settings.time = ccnav.settings.time + 500;\n\t\t\t\tccnav.log('Element not found.');\n\t\t\t\tsetTimeout(function() { ccnav.waitForElem(elemLoaded) }, 500);\n\t\t\t}\n\t\t},\n\t\tinit : function(){\n\t\t\tccnav.log('offer initialized');\n\t\t\tccnav.waitForElem(function(){\n\t\t\t\tccnav.log('primary nav loaded');\n\t\t\t\tccnav.bindEvents();\n\t\t\t});\n\t\t}\n\t}\n\ttry{\n\t\tccnav.init();\n\t}\n\tcatch(e){\n\t\tconsole.log('ERROR-gnav-mboxes: ' + e)\n\t}\n<\/script>","cssSelector":"#action_insert_15422462113328564"}]}]}