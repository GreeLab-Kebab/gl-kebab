// memoize a function call to prevent duplicate side effects.
export function once(fn) {
    const memo = {
        called: false,
        value: undefined
    };
    return () => {
        if (!memo.called) {
            memo.called = true;
            memo.value = fn();
        }
        return memo.value;
    };
}