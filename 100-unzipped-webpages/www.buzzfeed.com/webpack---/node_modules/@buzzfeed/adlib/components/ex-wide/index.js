import {
    Application
} from 't3js';
import {
    AdEx
} from '../ex';

class AdExWide extends AdEx {
    setup() {
        this.findReplacePlaceHolder();
        this.adMoved = false;
        super.setup();
    }

    findReplacePlaceHolder() {
        let index = parseInt(this.config.adPos.match(/\d/), 10);
        let placeHolder = document.querySelector('.js-wide-ad-placeholder-' + index);

        if (placeHolder && this.element) {
            placeHolder.insertAdjacentHTML('afterbegin', this.element);
            this.adMoved = true;
        }
    }
}

Application.addModule('ad-ex-wide', AdExWide.generateModule());
export {
    AdExWide
};