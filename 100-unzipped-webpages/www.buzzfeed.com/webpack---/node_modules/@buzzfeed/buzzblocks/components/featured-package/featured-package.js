import {
    Application
} from 't3js';
import {
    name as viewable
} from '../../js/behaviors/viewable';
import {
    name as lazyImageBackground
} from '../../js/behaviors/lazy-image-background';
import {
    name as lazyImage
} from '../../js/behaviors/lazy-image';
import '../post-badge/post-badge';

function generateModule() {
    const Cls = this; // since this is a static class method, `this` is a class itself

    return (context) => {
        return new Cls(context);
    };
}

class FeaturedPackage {
    constructor(context) {
        this.context = context;
        this.element = context.getElement();
        this.behaviors = [
            lazyImageBackground,
            viewable,
            lazyImage,
        ];
    }

    init() {}
    destroy() {}
}

FeaturedPackage.generateModule = generateModule;

Application.addModule('featured-package', FeaturedPackage.generateModule());

export {
    FeaturedPackage,
    generateModule
};